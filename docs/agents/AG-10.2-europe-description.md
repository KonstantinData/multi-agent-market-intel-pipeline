# AG-10.2 Identity Legal Europe Agent

## Overview
Specialized agent for extracting legal identity information from European companies (excluding Germany, Austria, Switzerland) using legal notices and company registration data.

## Purpose
Extract comprehensive European legal identity information for EU member states, including diverse legal forms, address formats, and multi-language support.

## Key Functions
- **European Legal Forms**: Identify country-specific legal forms across EU
- **Multi-Country Support**: Handle diverse European address formats
- **Postal Code Validation**: Country-specific postal code patterns
- **Multi-Language Processing**: Support major European languages

## Input Requirements
- `company_name_canonical`: Normalized company name from AG-00
- `web_domain_normalized`: Normalized web domain from AG-00
- `meta_target_entity_stub`: Target entity information from AG-00

## Output Structure
```json
{
  "entities_delta": [
    {
      "entity_key": "domain:example-company.fr",
      "entity_type": "target_company",
      "entity_name": "Example SAS",
      "legal_form": "SAS",
      "street_name": "Rue de la Paix",
      "house_number": "123",
      "postal_code": "75001",
      "city": "Paris",
      "state": "Île-de-France",
      "country": "France",
      "country_code": "FR"
    }
  ],
  "findings": [
    {
      "legal_name": "Example SAS",
      "legal_form": "SAS",
      "country_detected": "FR"
    }
  ]
}
```

## Supported Countries & Legal Forms

### France (FR)
- **SAS**: Société par Actions Simplifiée
- **SARL**: Société à Responsabilité Limitée
- **SA**: Société Anonyme
- **EURL**: Entreprise Unipersonnelle à Responsabilité Limitée
- **SASU**: Société par Actions Simplifiée Unipersonnelle

### Italy (IT)
- **SpA**: Società per Azioni
- **SRL**: Società a Responsabilità Limitata
- **SNC**: Società in Nome Collettivo
- **SAS**: Società in Accomandita Semplice

### Netherlands (NL)
- **BV**: Besloten Vennootschap
- **NV**: Naamloze Vennootschap
- **VOF**: Vennootschap onder Firma
- **Stichting**: Foundation

### Spain (ES)
- **SA**: Sociedad Anónima
- **SL**: Sociedad Limitada
- **SRC**: Sociedad de Responsabilidad Limitada

### Other EU Countries
- **Belgium**: SA/NV, SPRL/BVBA
- **Poland**: SA, Sp. z o.o.
- **Sweden**: AB, HB, KB
- **Denmark**: A/S, ApS
- **Finland**: Oy, Oyj

## Address Format Validation
### Postal Code Patterns
- **France**: 5-digit (75001)
- **Italy**: 5-digit (00100)
- **Netherlands**: 4-digit + 2-letter (1000 AA)
- **Belgium**: 4-digit (1000)
- **Poland**: XX-XXX format (00-001)
- **Sweden**: XXX XX format (100 05)

## Data Sources
- European legal notices and company pages
- Official business registration information
- Contact/About pages with legal information
- Headquarters and corporate office data

## Validation Rules
- Country code must be valid European country
- Excludes DE, AT, CH (handled by other agents)
- Postal codes validated by country-specific patterns
- Legal forms must match country requirements

## Error Handling
- Returns null if not European company
- Provides "n/v" for unavailable information
- Country-specific format validation
- Fallback data when OpenAI unavailable

## Integration
- **Activation**: Controlled by `region_europe` checkbox (default: disabled)
- **Execution Order**: Runs after AG-00 and other regional agents
- **Registry Integration**: Updates entity registry with European legal data
- **Country Detection**: Only processes EU member state companies

## Business Value
- **EU Market Coverage**: Comprehensive European Union support
- **Legal Compliance**: Accurate EU legal entity information
- **Multi-Country Operations**: Support for diverse European markets
- **Regulatory Alignment**: EU-compliant legal form recognition