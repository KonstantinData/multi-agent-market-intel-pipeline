# AG-10.4 Identity Legal USA Agent

## Overview
Specialized agent for extracting legal identity information from US companies using headquarters information, corporate registration data, and official business documentation.

## Purpose
Extract comprehensive US legal identity information including American legal forms, US address formats with ZIP codes, state incorporation details, and corporate headquarters data.

## Key Functions
- **US Legal Forms**: Identify American legal forms (Inc, Corp, LLC, LLP, etc.)
- **ZIP Code Validation**: Validate US ZIP code formats (5-digit and ZIP+4)
- **State Recognition**: Identify US states and incorporation jurisdictions
- **Headquarters Detection**: Extract corporate office addresses

## Input Requirements
- `company_name_canonical`: Normalized company name from AG-00
- `web_domain_normalized`: Normalized web domain from AG-00
- `meta_target_entity_stub`: Target entity information from AG-00

## Output Structure
```json
{
  "entities_delta": [
    {
      "entity_key": "domain:example-company.com",
      "entity_type": "target_company",
      "entity_name": "Example Corp",
      "legal_form": "Corp",
      "street_name": "Main Street",
      "house_number": "123",
      "postal_code": "10001",
      "city": "New York",
      "state": "NY",
      "country": "United States",
      "country_code": "US"
    }
  ],
  "findings": [
    {
      "legal_name": "Example Corp",
      "legal_form": "Corp",
      "country_detected": "US"
    }
  ]
}
```

## US Legal Forms Supported
- **Inc**: Incorporated
- **Incorporated**: Corporation (full form)
- **Corp**: Corporation
- **Corporation**: Corporation (full form)
- **LLC**: Limited Liability Company
- **Limited Liability Company**: LLC (full form)
- **LLP**: Limited Liability Partnership
- **Limited Liability Partnership**: LLP (full form)
- **LP**: Limited Partnership
- **PC**: Professional Corporation
- **PLLC**: Professional Limited Liability Company

## Address Format Validation
### ZIP Code Patterns
- **5-Digit**: 12345
- **ZIP+4**: 12345-6789
- **Validation**: Must be numeric with optional hyphen extension

### US States (2-Letter Codes)
- **Major States**: CA, NY, TX, FL, IL, PA, OH, GA, NC, MI
- **All 50 States**: Complete validation against official USPS codes
- **DC**: District of Columbia included
- **Territories**: Support for US territories if needed

### Address Components
- **Street Names**: US street naming conventions
- **House Numbers**: Standard US numbering systems
- **Cities**: US cities and municipalities
- **States**: 2-letter state abbreviations (NY, CA, TX, etc.)

## Data Sources
- Corporate information and about pages
- Legal notices and terms of service
- Headquarters and corporate office information
- SEC filings and corporate governance data
- Contact pages with business addresses

## Validation Rules
- Country code must be "US"
- ZIP codes must match US format patterns
- State codes must be valid 2-letter abbreviations
- Legal forms must be recognized US types

## Error Handling
- Returns null if not US company
- Provides "n/v" for unavailable information
- Validates US-specific formats
- Fallback data when OpenAI unavailable

## Integration
- **Activation**: Controlled by `region_usa` checkbox (default: disabled)
- **Execution Order**: Runs after AG-00 and other regional agents
- **Registry Integration**: Updates entity registry with US legal data
- **Country Detection**: Only processes US companies

## Business Value
- **US Market Coverage**: Comprehensive United States support
- **Legal Compliance**: Accurate US legal entity information
- **State Jurisdiction**: Proper state-level legal form recognition
- **Corporate Standards**: Aligned with US corporate law requirements